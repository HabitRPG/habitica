<!--helpTitle & helpContent moved to tour -->

<!-- Habits Column -->
<div class="module" ng-controller="HabitsCtrl">
    <div class="task-column habits">
        <h2 class="task-column_title">Habits</h2>
        <ng-include src="'views/tasks/new.html'"></ng-include>
        <ul class="habits" ui-sortable ng-model="user.habits">
            <li ng-repeat="task in user.habits" class='task' ng-controller="HabitCtrl">
                <ng-include src="'views/tasks/task.html'" ></ng-include>
            </li>

        </ul>
        <br/>
        <habit-ads>
            <a href="http://www.amazon.com/gp/product/1400069289/ref=as_li_tf_tl?ie=UTF8&camp=1789&creative=9325&creativeASIN=1400069289&linkCode=as2&tag=ha0d2-20">The Power of Habit: Why We Do What We Do in Life and Business</a><img src="//www.assoc-amazon.com/e/ir?t=ha0d2-20&l=as2&o=1&a=1400069289" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" />
        </habit-ads>
    </div>
</div>

<!-- Dailys Column -->
<div class="module" ng-controller="DailysCtrl">
    <div class="task-column dailys">
        <h2 class="task-column_title">Dailies</h2>
        <ng-include src="'views/tasks/new.html'"></ng-include>
        <ul class="dailys" ui-sortable ng-model="user.dailys">
            <li ng-repeat="task in user.dailys" class='task' ng-controller="DailyCtrl">
                <ng-include src="'views/tasks/task.html'" ></ng-include>
            </li>
        </ul>
        <br/>
        <habit-ads>
            <a href="http://www.amazon.com/gp/product/0142000280/ref=as_li_tf_tl?ie=UTF8&camp=1789&creative=9325&creativeASIN=0142000280&linkCode=as2&tag=ha0d2-20">Getting Things Done: The Art of Stress-Free Productivity</a><img src="//www.assoc-amazon.com/e/ir?t=ha0d2-20&l=as2&o=1&a=0142000280" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" />
        </habit-ads>
    </div>
</div>

<!-- Todos Column -->
<div class="module" ng-controller="TodosCtrl">
    <div class="task-column todos context-enabled context-uncompleted tabbable tabs-below" id="todo-well">
        <!-- todo export/graph options -->
            <span class='option-box pull-right'>
                {#if _user.history.todos}
                  <a class="option-action" x-bind=click:toggleChart data-toggle-id="todos-chart" data-history-path="_user.history.todos" rel=tooltip title="Progress"><i class=icon-signal></i></a>
                {/}
                <a class="option-action" href="/v1/users/{{_user.id}}/calendar.ics?apiToken={{_user.apiToken}}" rel=tooltip title="iCal"><i class=icon-calendar></i></a>
                <!-- <a href="https://www.google.com/calendar/render?cid={{encodeiCalLink(_user.id, _user.apiToken)}}" rel=tooltip title="Google Calendar"><i class=icon-calendar></i></a> -->
            </span>
        <h2 class="task-column_title">Todos</h2>
        <div id="todos-chart" style="display:none;"></div>
        <tabs>
            <!-- remaining/completed tabs -->
            <pane heading="Remaining">
                <!-- create new todo -->
                <ng-include src="'views/tasks/new.html'"></ng-include>
                <!-- list of remaining todos -->
                <ul class="todos" ui-sortable ng-model="user.todos">
                    <li ng-repeat="task in user.todos | filter:{completed:false}" class='task' ng-controller="TodoCtrl">
                        <ng-include src="'views/tasks/task.html'" ></ng-include>
                    </li>
                </ul>
            </pane>
            <pane heading="Complete">
                <!-- list of completed todos -->
                <li ng-repeat="task in user.todos | filter:{completed:true}" class='task' ng-controller="TodoCtrl">
                    <ng-include src="'views/tasks/task.html'" ></ng-include>
                </li>
                <button class='task-action-btn tile spacious bright display-context-dependant show-for-completed' x-bind=click:clearCompleted>Clear Completed</button>
            </pane>
        </tabs>

        <br/>
        <habit-ads>
            <a href="http://www.amazon.com/gp/product/0312430000/ref=as_li_tf_tl?ie=UTF8&camp=1789&creative=9325&creativeASIN=0312430000&linkCode=as2&tag=ha0d2-20">The Checklist Manifesto: How to Get Things Right</a><img src="//www.assoc-amazon.com/e/ir?t=ha0d2-20&l=as2&o=1&a=0312430000" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" />
        </habit-ads>

    </div>
</div>

<!-- Rewards Column -->
<div class="module" ng-controller="RewardsCtrl">
    <div class="task-column rewards">
        <!-- cash or tokens -->
            <span class='option-box pull-right wallet'>
                <div class="money">
                    {{gold(user.stats.gp)}}
                    <span class='shop_gold' rel='tooltip' title='Gold'></span>
                </div>
                <div class="money">
                    {{silver(user.stats.gp)}}
                    <span class='shop_silver' rel='tooltip' title='Silver'></span>
                </div>
            </span>

        <h2 class="task-column_title">Rewards</h2>

        <ng-include src="'views/tasks/new.html'"></ng-include>

        <!-- Custom Rewards -->
        <ul class='rewards' ng-class="{hidden: !user.rewards}" ui-sortable ng-model="user.rewards">
            <li ng-repeat="task in user.rewards" class='task' ng-controller="RewardCtrl">
                <ng-include src="'views/tasks/task.html'" ></ng-include>
            </li>
        </ul>

        <!-- Static Rewards -->
        <ng-include src="'views/tasks/item-store.html'"></ng-include>

        <habit-ads>
            <a href="http://www.amazon.com/gp/product/1594484805/ref=as_li_tf_tl?ie=UTF8&camp=1789&creative=9325&creativeASIN=1594484805&linkCode=as2&tag=ha0d2-20">Drive: The Surprising Truth About What Motivates Us</a><img src="//www.assoc-amazon.com/e/ir?t=ha0d2-20&l=as2&o=1&a=1594484805" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" />
        </habit-ads>
    </div>
</div>